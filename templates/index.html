<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Style Transfer App</title>

    <!-- stylesheets -->
    <link rel="stylesheet" href="{{url_for('static', filename='css/bootstrap.min.css')}}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">

    <!-- app icon -->
    <link rel="shortcut icon" href="{{url_for('static', filename='images/icon.png')}}" type="image/x-icon">
</head>

<body>
    <!-- Navbar -->
    <div>
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background: rgba(0, 0, 0, 0.75)">
            <a class="navbar-brand" href="#">
                <img src="{{url_for('static', filename='images/logo.svg')}}" width="32" height="32"
                    class="d-inline-block align-top" alt="Logo"> Style Transfer App
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://puneet29.github.io/StyleTransferApp/" target="_blank">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://puneet29.github.io/" target="_blank">About Author</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="mailto:puneet29saini@gmail.com" target="_blank">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>

    <!-- Corousel -->
    <div id="mainCorousal" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#mainCorousal" data-slide-to="0" class="active"></li>
            <li data-target="#mainCorousal" data-slide-to="1"></li>
            <li data-target="#mainCorousal" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="{{url_for('static', filename='images/unsplash.jpg')}}" class="d-block w-100"
                    alt="Bird Content Image">
                <div class="carousel-caption d-none d-md-block" style="text-shadow: 2px 2px #212121">
                    <h3>Bird photo</h3>
                    <h5>By Vincent Van Zalinge on <a href="https://unsplash.com/photos/vUNQaTtZeOo" class="text-light"
                            target="_blank">Unsplash</a>.</h5>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{{url_for('static', filename='images/mosaic.jpg')}}" class="d-block w-100"
                    alt="Mosaic Styled">
                <div class="carousel-caption d-none d-md-block" style="text-shadow: 2px 2px #212121">
                    <h3>Mosaic Style</h3>
                    <h5>Using the trained model on <a
                            href="https://github.com/puneet29/StyleTransferApp/blob/master/images/style-images/mosaic.jpg"
                            class="text-light" target="_blank">Mosaic
                            Style</a>.</h5>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{{url_for('static', filename='images/starry.jpg')}}" class="d-block w-100"
                    alt="Starry Night Styled">
                <div class="carousel-caption d-none d-md-block" style="text-shadow: 2px 2px #212121">
                    <h3>Starry Night Style</h3>
                    <h5>Using the trained model on <a
                            href="https://github.com/puneet29/StyleTransferApp/blob/master/images/style-images/starrynight.jpg"
                            class="text-light" target="_blank">Starry Night</a>.</h5>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#mainCorousal" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#mainCorousal" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="container text-center" style="margin-top: 5%">
        <h3 class="heading">LET'S STYLIZE YOUR PHOTO LIKE IT WAS MADE BY PICASSO</h3>
        <h5>This tool will stylize your image based on the style you've selected. This tool is an application of deep
            learning and neural style transfer. It uses Pytorch and SciPy to accomplish the results. <br>
            Get your own results by following the following steps:</h5>
        <br>
        <div class="card-deck">
            <div class="card shadow-sm p-2 mb-5">
                <img src="static/images/unsplash.jpg" class="card-img-top" alt="Content Image">
                <div class="card-body">
                    <h5 class="card-title">1. Select the content image</h5>
                    <p class="card-text">Upload the image you want our neural net to stylize.</p>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#contentModal">
                        Select image
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="contentModal" tabindex="-1" role="dialog"
                        aria-labelledby="contentModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="contentModalLabel">Content Image</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="input-group mb-3">
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="inputGroupFile01"
                                                aria-describedby="inputGroupFileAddon01">
                                            <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary">Upload photo</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card shadow-sm p-2 mb-5">
                <img src="static/images/styleExample.jpg" class="card-img-top" alt="Style Image">
                <div class="card-body">
                    <h5 class="card-title">2. Select a Style image</h5>
                    <p class="card-text">The style from this image will be extracted and applied to content image.
                        Select one image from existing style images.
                    </p>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#styleModal">
                        Select style
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="styleModal" tabindex="-1" role="dialog"
                        aria-labelledby="styleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="styleModalLabel">Style Image</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="card-group">
                                        {% for i in styles %}
                                        <button type="button" class="card">
                                            <img src="{{i}}" class="card-img-top"
                                                alt="{{i.split('/')[-1].split('.')[0]}}">
                                            <div class="card-body">
                                                <h5 class="card-title">{{i.split('/')[-1].split('.')[0]}}</h5>
                                            </div>
                                        </button>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card shadow-sm p-2 mb-5">
                <img src="static/images/starry.jpg" class="card-img-top" alt="Final Image">
                <div class="card-body">
                    <h5 class="card-title">3. You get your stylized image</h5>
                    <p class="card-text">The model will paint your image with its artistic skills. </p>
                    <a role="button" href="javascript:void(0)" class="btn btn-primary" id="startStylize">Let's start
                        painting</a>
                </div>
            </div>
        </div>

        <div class="alert alert-success alert-dismissible" style="display: none" role="alert">
            Please wait while the model is painting your photo.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>

    <footer class="text-light footer card-footer" style="background-color: #212121">
        <div class="container">
            <div class="float-right">
                <h5>
                    <a class="text-light" href="https://www.github.com/puneet29" target="_blank">
                        <i class="fab fa-github"></i>
                    </a> ·
                    <a class="text-light" href="https://www.instagram.com/puneetsaini" target="_blank">
                        <i class="fab fa-instagram"></i>
                    </a> ·
                    <a class="text-light" href="https://www.facebook.com/geekpuneet" target="_blank">
                        <i class="fab fa-facebook-square"></i>
                    </a> ·
                    <a class="text-light" href="https://twitter.com/punnettsaini" target="_blank">
                        <i class="fab fa-twitter"></i>
                    </a>
                </h5>
            </div>
            <h5 class="float-left">Style Transfer App</h5>
            <h5 class="text-center">Made with <i class="fas fa-heart"></i> by Puneet</h5>
        </div>
    </footer>

    <!-- scripts -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="{{url_for('static', filename='js/bootstrap.min.js')}}"></script>

    <!-- my scripts -->
    <script>
    $(document).ready(function(){
        $("#startStylize").click(function(){
            $('#startStylize').addClass('disabled');
            $('.alert').show();
        })
    });
    </script>
</body>

</html>